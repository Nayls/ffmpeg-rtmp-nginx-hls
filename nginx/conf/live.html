<!doctype html>
<html lang="en" class="h-100">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- Video.JS -->
    <!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
    <!-- <script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script> -->

    <!-- In the head of your document with your other CSS includes... -->
    <!-- Video.js base CSS -->
    <link href="https://unpkg.com/video.js@7/dist/video-js.min.css" rel="stylesheet" />

    <!-- Fantasy -->
    <!-- <link href="https://unpkg.com/@videojs/themes@1/dist/fantasy/index.css" rel="stylesheet"> -->
    <link href="videojs-fantasy.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="player.css" rel="stylesheet">

    <title>FFmpeg RTMP Nginx HLS</title>
</head>

<body class="d-flex h-100 text-center text-white bg-dark">
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
        <header class="mb-auto">
            <div>
                <h3 class="float-md-start mb-0"><b>L.N.C</b></h3>
                <nav class="nav nav-masthead justify-content-center float-md-end">
                    <a class="nav-link active" aria-current="page" href="live.html">LIVE</a>

                    <a class="nav-link" href="obs.html">OBS</a>
                </nav>
            </div>
        </header>

        <main>
            <h1>
                Live on <b>#livestream</b>
            </h1>

            <div class="container" style="border-width: 2px; border-color: #fff;">
                <video-js id="stream-player" class="video-js vjs-theme-fantasy mb-auto" />
            </div>
        </main>

        <footer class="mt-auto text-white-50">
            <p>
                Powered by <a href="https://github.com/Nayls/ffmpeg-rtmp-nginx-hls" class="text-white">@nayls</a>.
                <br> L.N.C - live.nayls.cloud
            </p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://vjs.zencdn.net/7.18.1/video.min.js"></script>
    <script>
        const player = videojs('stream-player', {
            paused: false,
            fluid: true,
            // aspectRatio: '16:9',
            controls: true,
            autoplay: true,
            preload: 'auto',
            inactivityTimeout: 5,
            liveui: true,
            normalizeAutoplay: true,
            sources: [{
                src: '%RTMP_SERVER_HOST%/hls/livestream.m3u8',
                type: 'application/x-mpegURL',
                // src: '../../example.mp4',
                // type: 'video/mp4',
            }],
            breakpoints: {
                tiny: 300,
                xsmall: 40000,
                small: 50000,
                medium: 60000,
                large: 70000,
                xlarge: 80000,
                huge: 90000
            }
        });
    </script>
</body>

</html>